<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Alphabetical Order â€” Practice</title>
  <meta name="description" content="Interactive practice for learning alphabetical order â€” made for a tech-loving homeschooler." />

  <style>
    :root{
      --bg:#0b1020;
      --panel:#0f1724;
      --muted:#9aa4b2;
      --accent:#22d3ee;
      --accent-2:#7c3aed;
      --good:#16a34a;
      --bad:#ef4444;
      --card:#071025;
      --glass: rgba(255,255,255,0.03);
      font-synthesis: none;
    }
    html,body{height:100%;}
    body{
      margin:0;
      font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      background: linear-gradient(180deg,var(--bg),#031025 120%);
      color:#e6eef6;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      padding:24px;
      box-sizing:border-box;
    }
    .wrap{max-width:1000px;margin:0 auto;}
    header{display:flex;gap:16px;align-items:center;margin-bottom:18px;}
    .logo{
      width:64px;height:64px;border-radius:12px;
      background:linear-gradient(135deg,var(--accent),var(--accent-2));
      display:flex;align-items:center;justify-content:center;
      font-weight:700;color:#021022;font-size:20px;
      box-shadow:0 6px 20px rgba(34,211,238,0.12);
    }
    h1{margin:0;font-size:20px;}
    p.lead{margin:0;color:var(--muted);font-size:13px}

    .layout{
      display:grid;
      grid-template-columns: 340px 1fr;
      gap:20px;
      margin-top:18px;
    }

    .card{
      background:linear-gradient(180deg,var(--panel),#07142a);
      border-radius:12px;padding:16px;
      box-shadow: 0 6px 18px rgba(2,6,23,0.6);
      border:1px solid rgba(255,255,255,0.03);
    }

    /* Controls */
    .controls label{display:block;font-size:13px;color:var(--muted);margin-bottom:6px}
    .controls .row{display:flex;gap:8px;align-items:center;margin-bottom:12px}
    select,input[type="number"]{
      background:var(--glass);border:1px solid rgba(255,255,255,0.04);
      color:inherit;padding:8px;border-radius:8px;font-size:14px;width:100%;
      box-sizing:border-box;
    }
    .btn{
      display:inline-flex;align-items:center;gap:8px;
      background:linear-gradient(90deg,var(--accent),var(--accent-2));
      color:#021022;font-weight:700;padding:10px 14px;border-radius:10px;border:none;
      cursor:pointer; box-shadow:0 8px 18px rgba(7,20,40,0.4);
    }
    .btn.ghost{background:transparent;border:1px solid rgba(255,255,255,0.05);color:var(--accent);}
    .tiny{font-size:13px;padding:6px 9px;border-radius:8px}

    /* Stats */
    .stats{display:flex;flex-wrap:wrap;gap:8px;margin-top:8px}
    .stat{background:rgba(255,255,255,0.02);padding:8px;border-radius:8px;font-size:13px;min-width:88px;text-align:center}
    .progress{height:10px;background:rgba(255,255,255,0.03);border-radius:6px;overflow:hidden}
    .progress > i{display:block;height:100%;background:linear-gradient(90deg,var(--accent),var(--accent-2));width:0%}

    /* Instructions */
    .instructions{
      background:rgba(255,255,255,0.02);
      padding:14px;
      border-radius:8px;
      margin-bottom:14px;
      font-size:14px;
      line-height:1.6;
    }
    .instructions h3{margin:0 0 8px;font-size:15px;color:var(--accent)}
    .instructions ul{margin:8px 0;padding-left:20px}
    .instructions li{margin:4px 0}

    /* Word sorting area */
    .word-container{
      background:linear-gradient(180deg,#041426 80%,transparent);
      padding:18px;
      border-radius:10px;
      border:1px solid rgba(255,255,255,0.03);
      margin-bottom:14px;
    }
    
    .word-list{
      display:flex;
      flex-direction:column;
      gap:10px;
      margin-bottom:16px;
    }
    
    .word-item{
      background:rgba(255,255,255,0.04);
      padding:14px 18px;
      border-radius:8px;
      border:1px solid rgba(255,255,255,0.05);
      display:flex;
      align-items:center;
      gap:12px;
      cursor:move;
      transition: all 0.2s;
      font-size:18px;
      font-weight:500;
    }
    
    .word-item:hover{
      background:rgba(255,255,255,0.08);
      border-color:var(--accent);
    }
    
    .word-item.dragging{
      opacity:0.5;
      cursor:grabbing;
    }
    
    .word-item.drag-over{
      border-color:var(--accent);
      border-style:dashed;
    }
    
    .word-number{
      background:linear-gradient(135deg,var(--accent),var(--accent-2));
      color:#021022;
      width:32px;
      height:32px;
      border-radius:6px;
      display:flex;
      align-items:center;
      justify-content:center;
      font-weight:700;
      font-size:14px;
      flex-shrink:0;
    }
    
    .word-text{
      flex:1;
    }
    
    .drag-handle{
      color:var(--muted);
      font-size:20px;
      cursor:grab;
    }

    /* Feedback */
    .feedback{
      padding:14px;
      border-radius:8px;
      margin-top:12px;
      font-size:14px;
      display:none;
    }
    .feedback.show{display:block}
    .feedback.correct{
      background:rgba(22,163,74,0.12);
      border:1px solid rgba(22,163,74,0.18);
      color:#4ade80;
    }
    .feedback.wrong{
      background:rgba(239,68,68,0.12);
      border:1px solid rgba(239,68,68,0.14);
      color:#f87171;
    }
    
    .hint{font-size:13px;color:var(--muted);margin-top:8px}
    
    @media(max-width:768px){
      .layout{grid-template-columns:1fr;}
    }
  </style>
</head>
<body>
  <div class="wrap">
    <header role="banner">
      <div class="logo" aria-hidden="true">ABC</div>
      <div>
        <h1>Alphabetical Order Practice</h1>
        <p class="lead">Learn to put words in ABC order â€” a fun interactive tool for 3rd graders!</p>
      </div>
    </header>

    <div class="layout">
      <aside class="card controls" aria-labelledby="controls-heading">
        <h3 id="controls-heading" style="margin-top:0">Controls</h3>

        <div class="row">
          <label for="difficulty">Difficulty Level</label>
          <select id="difficulty" title="Select difficulty level">
            <option value="easy">Easy (1st letter different)</option>
            <option value="medium" selected>Medium (2nd letter different)</option>
            <option value="hard">Hard (3rd letter different)</option>
          </select>
        </div>

        <div class="row" style="margin-top:4px">
          <button id="newBtn" class="btn tiny" title="Generate new words">New Words</button>
          <button id="checkBtn" class="btn ghost tiny" title="Check your answer">Check Answer</button>
        </div>

        <div style="margin-top:12px">
          <div class="stats">
            <div class="stat">Attempted: <strong id="attempted">0</strong></div>
            <div class="stat">Correct: <strong id="correct">0</strong></div>
            <div class="stat">Streak: <strong id="streak">0</strong></div>
          </div>

          <div style="margin-top:10px">
            <div class="hint">ðŸ’¡ Drag and drop words to reorder them, then click "Check Answer"</div>
          </div>
        </div>

        <div class="instructions">
          <h3>How to Alphabetize</h3>
          <ul>
            <li><strong>Step 1:</strong> Look at the first letter of each word</li>
            <li><strong>Step 2:</strong> If first letters are the same, look at the second letter</li>
            <li><strong>Step 3:</strong> Continue comparing letters until you find a difference</li>
            <li><strong>Tip:</strong> Letters earlier in the alphabet (A, B, C...) come first!</li>
          </ul>
        </div>
      </aside>

      <main class="card" aria-live="polite">
        <h3 style="margin-top:0">Put these words in alphabetical order</h3>
        
        <div class="word-container">
          <div class="word-list" id="wordList">
            <!-- Words will be inserted here -->
          </div>
          
          <div class="feedback" id="feedback"></div>
        </div>

        <div class="hint" id="mainHint">Click "New Words" to start!</div>
      </main>
    </div>
  </div>

  <script>
    // DOM refs
    const difficultySelect = document.getElementById('difficulty');
    const newBtn = document.getElementById('newBtn');
    const checkBtn = document.getElementById('checkBtn');
    const wordList = document.getElementById('wordList');
    const feedback = document.getElementById('feedback');
    const mainHint = document.getElementById('mainHint');
    
    const attemptedEl = document.getElementById('attempted');
    const correctEl = document.getElementById('correct');
    const streakEl = document.getElementById('streak');

    let state = {
      currentWords: [],
      correctOrder: [],
      attempted: 0,
      correct: 0,
      streak: 0
    };

    // Word banks organized by difficulty
    const wordBanks = {
      easy: [
        'apple', 'ball', 'cat', 'dog', 'egg', 'fish', 'goat', 'hat', 'ice', 'jam',
        'kite', 'lion', 'moon', 'nest', 'owl', 'pig', 'queen', 'rain', 'sun', 'tree',
        'umbrella', 'van', 'wolf', 'yarn', 'zebra', 'ant', 'bear', 'coin', 'duck', 'fan'
      ],
      medium: [
        'beach', 'bread', 'chair', 'class', 'dance', 'dream', 'frame', 'front',
        'glass', 'green', 'heart', 'house', 'light', 'lunch', 'plant', 'pizza',
        'snake', 'space', 'train', 'truck', 'water', 'write', 'badge', 'brain',
        'candy', 'cloud', 'drive', 'drift', 'flame', 'floor', 'grape', 'group'
      ],
      hard: [
        'beach', 'beast', 'bread', 'break', 'chair', 'chain', 'chart', 'chase',
        'frame', 'frank', 'fresh', 'front', 'plant', 'plane', 'plate', 'place',
        'slide', 'slice', 'slime', 'slope', 'train', 'trait', 'trash', 'track',
        'write', 'wrong', 'wrist', 'wreck', 'grace', 'grade', 'grand', 'graph'
      ]
    };

    // Load state from localStorage
    function loadState() {
      try {
        const saved = localStorage.getItem('alphabet_state');
        if (saved) {
          const parsed = JSON.parse(saved);
          state.attempted = parsed.attempted ?? 0;
          state.correct = parsed.correct ?? 0;
          state.streak = parsed.streak ?? 0;
          
          attemptedEl.textContent = state.attempted;
          correctEl.textContent = state.correct;
          streakEl.textContent = state.streak;
        }
      } catch(e) {
        console.error('Failed to load state:', e);
      }
    }

    // Save state to localStorage
    function saveState() {
      try {
        localStorage.setItem('alphabet_state', JSON.stringify({
          attempted: state.attempted,
          correct: state.correct,
          streak: state.streak
        }));
      } catch(e) {
        console.error('Failed to save state:', e);
      }
    }

    // Fisher-Yates shuffle algorithm for proper randomization
    function shuffleArray(array) {
      const result = [...array];
      for (let i = result.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [result[i], result[j]] = [result[j], result[i]];
      }
      return result;
    }

    // Generate random word list
    function generateWords() {
      const difficulty = difficultySelect.value;
      const bank = wordBanks[difficulty];
      
      // Pick 5 random unique words
      const shuffled = shuffleArray(bank);
      const selected = shuffled.slice(0, 5);
      
      // Store correct order
      state.correctOrder = [...selected].sort();
      
      // Shuffle for display
      state.currentWords = shuffleArray(selected);
      
      renderWords();
      feedback.classList.remove('show', 'correct', 'wrong');
      mainHint.textContent = 'Drag the words to put them in alphabetical order, then check your answer!';
    }

    // Render words in the list
    function renderWords() {
      wordList.innerHTML = '';
      
      state.currentWords.forEach((word, index) => {
        const item = document.createElement('div');
        item.className = 'word-item';
        item.draggable = true;
        item.dataset.word = word;
        item.dataset.index = index;
        
        item.innerHTML = `
          <div class="word-number">${index + 1}</div>
          <div class="word-text">${word}</div>
          <div class="drag-handle">â‹®â‹®</div>
        `;
        
        // Drag events
        item.addEventListener('dragstart', handleDragStart);
        item.addEventListener('dragover', handleDragOver);
        item.addEventListener('drop', handleDrop);
        item.addEventListener('dragend', handleDragEnd);
        item.addEventListener('dragenter', handleDragEnter);
        item.addEventListener('dragleave', handleDragLeave);
        
        wordList.appendChild(item);
      });
    }

    let draggedElement = null;

    function handleDragStart(e) {
      draggedElement = this;
      this.classList.add('dragging');
      e.dataTransfer.effectAllowed = 'move';
      e.dataTransfer.setData('text/html', this.innerHTML);
    }

    function handleDragOver(e) {
      if (e.preventDefault) {
        e.preventDefault();
      }
      e.dataTransfer.dropEffect = 'move';
      return false;
    }

    function handleDragEnter(e) {
      if (this !== draggedElement) {
        this.classList.add('drag-over');
      }
    }

    function handleDragLeave(e) {
      this.classList.remove('drag-over');
    }

    function handleDrop(e) {
      if (e.stopPropagation) {
        e.stopPropagation();
      }

      if (draggedElement !== this) {
        const draggedIndex = parseInt(draggedElement.dataset.index, 10);
        const targetIndex = parseInt(this.dataset.index, 10);
        
        // Swap words in array
        const temp = state.currentWords[draggedIndex];
        state.currentWords[draggedIndex] = state.currentWords[targetIndex];
        state.currentWords[targetIndex] = temp;
        
        renderWords();
      }

      return false;
    }

    function handleDragEnd(e) {
      this.classList.remove('dragging');
      
      // Remove drag-over class from all items
      document.querySelectorAll('.word-item').forEach(item => {
        item.classList.remove('drag-over');
      });
    }

    // Check answer
    function checkAnswer() {
      if (state.currentWords.length === 0) {
        return;
      }

      state.attempted++;
      attemptedEl.textContent = state.attempted;

      const isCorrect = state.currentWords.every((word, index) => 
        word === state.correctOrder[index]
      );

      feedback.classList.add('show');
      
      if (isCorrect) {
        state.correct++;
        state.streak++;
        correctEl.textContent = state.correct;
        streakEl.textContent = state.streak;
        
        feedback.className = 'feedback show correct';
        feedback.innerHTML = `
          <div style="font-weight:700;margin-bottom:6px">âœ“ Excellent! Perfect alphabetical order!</div>
          <div>Great job! Click "New Words" to try another set.</div>
        `;
        mainHint.textContent = 'ðŸŽ‰ Perfect! You got them all in the right order!';
      } else {
        state.streak = 0;
        streakEl.textContent = state.streak;
        
        feedback.className = 'feedback show wrong';
        feedback.innerHTML = `
          <div style="font-weight:700;margin-bottom:6px">âœ— Not quite right</div>
          <div>Try again! Remember to look at the first letter of each word. The correct order is: <strong>${state.correctOrder.join(', ')}</strong></div>
        `;
        mainHint.textContent = 'Try again! Compare the first letter of each word.';
      }

      saveState();
    }

    // Event listeners
    newBtn.addEventListener('click', generateWords);
    checkBtn.addEventListener('click', checkAnswer);
    difficultySelect.addEventListener('change', generateWords);

    // Initialize
    loadState();
    generateWords();
  </script>
</body>
</html>
